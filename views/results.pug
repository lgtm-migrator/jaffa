extends skeleton
block css
  link(rel="stylesheet",href="/index.css")
  script(src="https://kryogenix.org/code/browser/sorttable/sorttable.js")
block breadcrumbs
block content
  .grid-row
    h1.heading-xlarge Results
    a(href='/results.csv') Download raw scores as CSV
    table.sortable
      thead
        tr
          th(colspan="2") Sample
          // th(colspan="4") Your scores
          th(colspan="4") Average scores
          th(colspan="2") Price
        tr
          th Identifier
          th Brand
          // th Sponge
          // th Orange
          // th Choc'
          // th Overall
          th Sponge
          th Orange
          th Choc'
          th Overall
          th Perceived
          th Actual
      tbody
        for sample in samples
          if aggrScores[sample.sampleIdentifier]
            tr
              td: a(href="/sample/" + sample.sampleIdentifier + "/info").samplelink= sample.sampleIdentifier
              td= sample.brand
              td.numeric= aggrScores[sample.sampleIdentifier].sponge
              td.numeric= aggrScores[sample.sampleIdentifier].orange
              td.numeric= aggrScores[sample.sampleIdentifier].chocolate
              td.numeric= aggrScores[sample.sampleIdentifier].overall
              td.numeric= '£' + ((aggrScores[sample.sampleIdentifier].price / sample.pricePer)*12).toFixed(2)
              td.numeric= '£' + ((sample.price / sample.pricePer) * 12).toFixed(2)


